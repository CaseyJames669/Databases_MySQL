DROP TABLE LINE;
DROP TABLE PRODUCT;
DROP TABLE VENDOR;
DROP TABLE INVOICE;
DROP TABLE CUSTOMER;

--

CREATE TABLE CUSTOMER (
CUS_CODE 	INTEGER		NOT NULL UNIQUE,
CUS_LNAME 	VARCHAR(15)	NOT NULL,
CUS_FNAME 	VARCHAR(15)	NOT NULL,
CUS_INITIAL 	CHAR(1)		,
CUS_AREACODE 	CHAR(3)		NOT NULL,
CUS_PHONE 	CHAR(8)		NOT NULL,
CUS_BALANCE 	DECIMAL(9,2)	DEFAULT 0.00 NOT NULL,
PRIMARY KEY (CUS_CODE)
);

--
 
CREATE TABLE INVOICE (
INV_NUMBER 	INTEGER		NOT NULL UNIQUE,
CUS_CODE 	INTEGER		NOT NULL,
INV_DATE 	DATE,
PRIMARY KEY (INV_NUMBER),
FOREIGN KEY (CUS_CODE) REFERENCES CUSTOMER
);

--

CREATE TABLE VENDOR (
V_CODE 	INTEGER NOT NULL UNIQUE,
V_NAME  VARCHAR(35)  NOT NUll,
V_CONTACT 	VARCHAR(15) 	NOT NULL,
V_AREACODE 	CHAR(3) 	NOT NULL,
V_PHONE 	CHAR(8) 	NOT NULL,
V_STATE 	CHAR(2) 	NOT NULL,
V_ORDER 	CHAR(1) 	NOT NULL,
PRIMARY KEY (V_CODE)
);

--

CREATE TABLE PRODUCT (
P_CODE  	VARCHAR(10) 	NOT NULL UNIQUE,
P_DESCRIPT  	VARCHAR(35) 	NOT NULL,
P_INDATE  	DATE,
P_QOH  	INTEGER 	NOT NULL,
P_MIN  	INTEGER  	NOT NULL,
P_PRICE  	DECIMAL(8,2) 	NOT NULL,
P_DISCOUNT  	DECIMAL(5,2) 	NOT NULL,
V_CODE  INTEGER,
PRIMARY KEY (P_CODE),
FOREIGN KEY (V_CODE) REFERENCES VENDOR
);

--

CREATE TABLE LINE (
INV_NUMBER  	INTEGER		NOT NULL,
LINE_NUMBER  	INTEGER 	NOT NULL,
P_CODE 	VARCHAR(10) 	NOT NULL,
LINE_UNITS  	DECIMAL(9,2) 	DEFAULT 0.00 NOT NULL,
LINE_PRICE  	DECIMAL(9,2) 	DEFAULT 0.00 NOT NULL,
PRIMARY KEY (INV_NUMBER, LINE_NUMBER),
FOREIGN KEY (INV_NUMBER) REFERENCES INVOICE,
FOREIGN KEY (P_CODE) REFERENCES PRODUCT
);
